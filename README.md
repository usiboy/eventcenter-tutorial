# 事件中心教程

<img src="/images/logo.png" width="120" height="120" alt="事件中心logo" align="center" />

## 前言

看到这个名字很多人会想到领域驱动开发。说起领域驱动开发，很多都停留在理论阶段中，平常我们在设计一套系统时候，刚开始的设计都是完好的，随着项目的迭代和反复的用户需求整改，原先设计好的领域对象，系统分层和边界都被破坏掉了，系统中的很多领域逐渐向贫血模型靠拢了。这也从侧面反应了领域设计的难度，主要是很多技术会把领域驱动开发看成是一套单纯的技术工具集，带着这样的理念设计系统，很容易把领域变的臃肿或者是变的单薄。

臃肿既是领域和领域的耦合度太高，没有设计好一个领域强行依赖了多个相关的领域，甚至是不相关的领域。随着项目后期的迭代，导致系统莫名的卡顿，修改一处代码可能会引发更多的Bug。领域模型设计有一套思想和原则，例如单一原则，单一原则的思想要理解透，首先要对业务和建模要有比较深的认知，往往项目在设计的后期会混淆了领域的角色，让儿子承担了父亲的角色，让老板干了员工的事情，甚至会出现本末倒置的问题等等。这样的领域在未来的变化中，举步维艰，难以修改，牵一发则动全身。

单薄的意思对应的是老马([Martin Fowler](https://zh.wikipedia.org/wiki/%E9%A9%AC%E4%B8%81%C2%B7%E7%A6%8F%E5%8B%92))提出的四大领域模型中的失血模型和贫血模型，项目在迭代到一定时期之后，随着需求的变更，团队人员的换血，项目进度紧张等因素的影响，往往会让架构师和开发从面向对象设计转变为面向关系型数据库的设计，逐步形成了由下至上的架构方式，这样设计速度快，技术都能理解。于是大家都开始先设计数据表，对象和对象之间的关系完全使用表与表的关系进行描述，业务对象也逐步换成POJO的风格，通过封装业务Service的方法，将多个不同的数据对象聚合在Service层中，导致这个业务领域承担了他所不应该承担的责任。这种模型开发简单，很多技术都能拍脑袋把这个模型设计出来，对于大多数初创团队来说，而且现在大多数技术都是从这种方式开始学习架构和设计WEB，这种设计风格无疑是成本最低的，因为每个技术都能比较容易和直观的理解和接受这种方式。但是，缺点也是显而易见的，产品和技术之间沟通会形成一个障碍，领域模型能够比较直观描述领域的属性和行为，产品对底层技术了解不透，产品需要增加一个功能时，可能会对系统底层有较大的改动，技术会感到恐慌，这种恐慌可能是因为系统的不合理设计，或者是历史遗留问题，或者是臃肿的领域，技术改到一处代码可能会影响到多处的业务，项目长期这样迭代下去，会产生很多不稳定的情况出现。

事件是领域驱动设计中的一种架构方式。

## 什么是事件中心？